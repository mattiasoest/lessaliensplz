{"version":3,"sources":["../../../../assets/Script/assets/Script/EnemyBig.ts"],"names":[],"mappings":";;;;;AAAA,iCAA4B;AAEtB,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAsC,4BAAK;IAD3C;QAAA,qEAwCC;QArCoB,eAAS,GAAG,CAAC,CAAC;QACd,oBAAc,GAAG,GAAG,CAAC;QACrB,aAAO,GAAG,CAAC,EAAE,CAAC;QACd,iBAAW,GAAG,GAAG,CAAC;QAE3B,qBAAe,GAAY,KAAK,CAAC;QACjC,gBAAU,GAAmB,IAAI,CAAC;;IA+B9C,CAAC;IA7BG,wBAAK,GAAL;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,iBAAM,iBAAiB,YAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IAChE,CAAC;IAED,yBAAM,GAAN,UAAQ,EAAE;QACN,iBAAM,MAAM,YAAC,EAAE,CAAC,CAAC;QACjB,iBAAM,UAAU,YAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAExD,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC;gBAClB,IAAI,MAAM,GAAG,CAAC,EAAE,CAAC;gBACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACxB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,EACnF,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBAC7E,KAAK,IAAI,IAAI,CAAC;oBACd,MAAM,IAAI,EAAE,CAAC;iBAChB;gBACD,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;aAC1B;SACJ;IACL,CAAC;IAED,gCAAa,GAAb;QACI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;IAChC,CAAC;IAtCgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAuC5B;IAAD,eAAC;CAvCD,AAuCC,CAvCqC,eAAK,GAuC1C;kBAvCoB,QAAQ","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import Enemy from \"./Enemy\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class EnemyBig extends Enemy {\n\n    private readonly FIRE_RATE = 2;\n    private readonly X_ACCELERATION = 110;\n    private readonly Y_SPEED = -45; \n    private readonly LASER_SPEED = 130;\n    \n    private isFireTriggered: boolean = false;\n    private laserSound: cc.AudioSource = null;\n\n    start () {\n        this.laserSound = this.getComponent(cc.AudioSource);\n        this.hitPoints = 1;\n        super.setLaserScheduler(this.FIRE_RATE, this.initiateLaser);\n    }\n\n    update (dt) {\n        super.update(dt);\n        super.updateShip(this.X_ACCELERATION, this.Y_SPEED, dt);\n\n        if (this.isAllowedToFire) {\n            if (this.isFireTriggered) {\n                this.isFireTriggered = false;\n                let angle = -37.5;\n                let offset = -20;\n                for (let i = 0; i < 7; i++) {\n                    this.game.spawnEnemyLaser(offset, this.node, cc.v2(Math.sin(angle /  (180 / Math.PI)) * this.LASER_SPEED,\n                                         Math.cos(angle / (180 / Math.PI)) * -this.LASER_SPEED));\n                    angle += 12.5;\n                    offset += 10;\n                }\n                this.laserSound.play();\n            }\n        }\n    }\n\n    initiateLaser() {\n        this.isFireTriggered = true;\n    }\n}\n"]}