{"version":3,"sources":["../../../../assets/Script/assets/Script/Menu.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import Game from \"./Game\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Menu extends cc.Component {\n\n    @property(cc.Button)\n    startButton: cc.Button = null;\n\n    @property(cc.Button)\n    creditsButton: cc.Button = null;\n\n    @property(cc.Button)\n    exitButton: cc.Button = null;\n\n    @property(cc.Button)\n    howToButton: cc.Button = null;\n\n    @property(cc.Label)\n    creditsLabel: cc.Label = null;\n\n    @property(cc.Label)\n    howToPlayLabel: cc.Label = null;\n\n    @property(cc.Label)\n    highScoreLabel: cc.Label = null;\n\n    @property(cc.Label)\n    mainTitleLabel: cc.Label = null;\n\n    @property(cc.AudioClip)\n    buttonSound: cc.AudioClip = null;\n\n    @property(Game)\n    game : Game = null;\n\n    private isCreditsOpen: boolean = false;\n    private ishowToOpen: boolean = false;\n    private creditsAction: cc.Action = null;\n    private howToAction: cc.Action = null;\n\n    onLoad () {\n        this.startButton.node.on('click', this.startCallback, this);\n        this.creditsButton.node.on('click', this.creditsCallback, this);\n        this.exitButton.node.on('click', this.exitCallback, this);\n        this.howToButton.node.on('click', this.howToCallback, this);\n        this.creditsLabel.enabled = false;\n        this.creditsLabel.node.opacity = 0;\n        this.howToPlayLabel.enabled = false;\n        this.howToPlayLabel.node.opacity = 0;\n        \n    }\n\n    start () {\n        this.mainTitleLabel.node.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(0.9),cc.delayTime(0.3), cc.fadeOut(0.9))));\n    }\n\n    update (dt) {\n    }\n\n    // Button event callbacks\n    startCallback() {\n        cc.audioEngine.play(this.buttonSound, false, 0.8);\n        this.creditsLabel.enabled = false;\n        this.howToPlayLabel.enabled = false;\n        this.game.startGame();\n    }\n\n    creditsCallback() {\n        this.creditsLabel.node.on(cc.Node.EventType.TOUCH_START, () => this.infoScreenIstouched());\n        this.isCreditsOpen = true;\n        cc.audioEngine.play(this.buttonSound, false, 0.8);\n        this.creditsLabel.enabled = true;\n        this.node.active = false;\n\n        this.creditsAction = this.creditsLabel.node.runAction(cc.sequence(cc.fadeIn(0.75),cc.delayTime(6), cc.fadeOut(0.75), \n            cc.callFunc(()=> {\n            this.creditsLabel.node.off(cc.Node.EventType.TOUCH_START);\n            this.isCreditsOpen = false;\n            this.node.active = true\n        })));\n    }\n\n    howToCallback() {\n        this.howToPlayLabel.node.on(cc.Node.EventType.TOUCH_START, () => this.infoScreenIstouched());\n        this.ishowToOpen = true;\n        cc.audioEngine.play(this.buttonSound, false, 0.8);\n        this.howToPlayLabel.enabled = true;\n        this.node.active = false;\n\n        this.howToAction = this.howToPlayLabel.node.runAction(cc.sequence(cc.fadeIn(0.75),cc.delayTime(6), cc.fadeOut(0.75), \n            cc.callFunc(()=> {\n            this.howToPlayLabel.node.off(cc.Node.EventType.TOUCH_START);\n            this.ishowToOpen = false;\n            this.node.active = true\n        })));\n    }\n\n    infoScreenIstouched() {\n        if (this.isCreditsOpen) {\n            this.isCreditsOpen = false;\n            this.creditsLabel.node.stopAction(this.creditsAction);\n            this.node.active = true\n            this.creditsLabel.node.opacity = 0;\n            this.creditsLabel.node.off(cc.Node.EventType.TOUCH_START);\n            this.creditsLabel.enabled = false;\n        }\n        else if (this.ishowToOpen) {\n            this.ishowToOpen = false;\n            this.howToPlayLabel.node.stopAction(this.howToAction);\n            this.node.active = true\n            this.howToPlayLabel.node.opacity = 0;\n            this.howToPlayLabel.node.off(cc.Node.EventType.TOUCH_START);\n            this.howToPlayLabel.enabled = false;\n        }\n    }\n\n    exitCallback() {\n        cc.audioEngine.stopAll();\n        cc.game.end();\n    }\n}\n"]}